# 문제

## 해결전략

## 주의해야할점
1. visitied 배열

# 코드
```python

import sys
from queue import Queue

class Position:
    def __init__(self, row, col) -> None:
        self.row = row
        self.col = col
right = Position(0,1)
down =  Position(1,0)
left = Position(0,-1)
up = Position (-1,0)


N, M = map(int,sys.stdin.readline().split())
matrix = [[False]*M for _ in range(N)]
# matrix = [list(map(int,sys.stdin.readline().split(''))) for _ in range(M)]
for i in range(N):
    temp = sys.stdin.readline()
    for j in range(M):
        num = int(temp[j])
        if num== 1:
            matrix[i][j] = True
        else:
            matrix[i][j] = False

next_position = [right,down,left,up]
visited = [[[False]*M for _ in range(N)] for _ in range(2)]

count=0
lock = False
pos = Position(0,0)

que= Queue()
que.put((pos, 1 , False))
result = sys.maxsize
visited[0][pos.row][pos.col] = True
visited[1][pos.row][pos.col] = True

while not que.empty():
    (cur ,distance, lock)  = que.get()
    cur_row , cur_col = cur.row, cur.col
    
    if lock == True:
        visited[1][cur_row][cur_col] = True
    else:
        visited[0][cur_row][cur_col] = True

    if cur_row == N-1 and cur_col == M-1:        
        result = min(distance, result)
        break
    # 굳이 다 안돌아도 제일빨리 도착한녀석이 결국 답이 됌.
    
    # 다음 노드 추가 조건 확인
    for next in next_position:
            temp= Position(0,0)
            temp.row = cur_row +  next.row
            temp.col = cur_col +  next.col

            temp_row ,temp_col = temp.row, temp.col

            if (temp_row>=0 and temp_row<N) and (temp_col>=0 and temp_col <M):
                # 행렬 범위 안
                if (lock == True and visited[1][temp_row][temp_col] == False)  or (lock == False and visited[0][temp_row][temp_col] == False):

                    if matrix[temp_row][temp_col] == True and lock== True:
                        #벽인데, 부술수 없는 상황
                        continue
                        
                    elif matrix[temp_row][temp_col] == True and lock== False:
                        que.put(((temp, distance+1 , True)))
                        #벽인데, 부술수 있는 상황              
                    else:
                        #벽아님 그냥 지나가~
                        que.put(((temp, distance+1 , lock)))

if result < sys.maxsize:
    print(result)
else:
    print(-1)

```
